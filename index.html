<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>FOLDER: TARDES EN LA BAH√çA</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Crayon+Libre&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: url('fondo.jpg') no-repeat center center fixed;
      background-size: cover;
      text-align: center;
      padding: 40px;
      color: white;
      text-shadow: 1px 1px 2px black;
    }

    h1 {
      font-family: 'Crayon Libre', cursive;
      font-size: 3em;
      margin-bottom: 10px;
    }

    .subtitle {
      font-size: 1.5em;
      margin-bottom: 30px;
    }

    .hangman {
      font-size: 2em;
      margin: 20px 0;
    }

    .letter-btn {
      margin: 4px;
      padding: 8px 12px;
      font-size: 1em;
      cursor: pointer;
      border: none;
      border-radius: 4px;
      background-color: rgba(255, 255, 255, 0.2);
      color: white;
      transition: background 0.3s;
    }

    .letter-btn:hover {
      background-color: rgba(255, 255, 255, 0.4);
    }

    .audio-section {
      margin-top: 20px;
      display: none;
    }

    .play-btn {
      padding: 10px 20px;
      font-size: 1em;
      background-color: #fff;
      color: #000;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .play-btn:hover {
      background-color: #ddd;
    }
  </style>
</head>
<body>

  <h1>FOLDER: TARDES EN LA BAH√çA</h1>
  <p class="subtitle">Adivina el nombre de las canciones üéß</p>

  <div id="game-container">
    <div class="hangman" id="hangman"></div>
    <div id="letters"></div>

    <div class="audio-section" id="audioSection">
      <button class="play-btn" onclick="playAudio()">‚ñ∂Ô∏è Reproducir fragmento</button>
      <audio id="audioPlayer" controls style="display:none;">
        <source id="audioSource" src="" type="audio/mpeg">
        Tu navegador no soporta el elemento de audio.
      </audio>
    </div>
  </div>

  <script>
    const songs = [
      {
        title: "TOLU",
        display: ["T", "_", "L", "_"],
        audio: "tolu.mp3"
      },
      {
        title: "LOS SUNSETZ",
        display: ["_", "O", "S", " ", "_", "U", "_", "S", "E", "_", "Z"],
        audio: "los_sunsetz.mp3"
      }
    ];

    let currentIndex = 0;
    let current = songs[currentIndex];
    let guessed = [...current.display];
    let attempts = 6;

    const hangmanDiv = document.getElementById("hangman");
    const lettersDiv = document.getElementById("letters");
    const audioSection = document.getElementById("audioSection");
    const audioPlayer = document.getElementById("audioPlayer");
    const audioSource = document.getElementById("audioSource");

    function updateDisplay() {
      hangmanDiv.textContent = guessed.join(" ");
    }

    function playAudio() {
      audioPlayer.style.display = "block";
      audioPlayer.play();
    }

    function handleGuess(letter) {
      let found = false;
      for (let i = 0; i < current.title.length; i++) {
        if (current.title[i] === letter && guessed[i] === "_") {
          guessed[i] = letter;
          found = true;
        }
      }

      updateDisplay();
      if (!found) attempts--;

      if (guessed.join("") === current.title) {
        audioSection.style.display = "block";
        audioSource.src = current.audio;
        audioPlayer.load();
        setTimeout(() => {
          alert("¬°Correcto! üéâ Escucha el fragmento...");
        }, 100);
      }

      if (attempts === 0) {
        alert("¬°Te quedaste sin intentos! üò¢");
        location.reload();
      }
    }

    function nextSong() {
      currentIndex++;
      if (currentIndex >= songs.length) {
        alert("¬°Completaste ambas canciones! üéâ Gracias por jugar.");
        return;
      }
      current = songs[currentIndex];
      guessed = [...current.display];
      attempts = 6;
      updateDisplay();
      audioSection.style.display = "none";
      audioPlayer.pause();
      audioPlayer.currentTime = 0;
      createButtons();
    }

    function createButtons() {
      lettersDiv.innerHTML = "";
      const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      for (let char of alphabet) {
        const btn = document.createElement("button");
        btn.textContent = char;
        btn.classList.add("letter-btn");
        btn.onclick = () => {
          btn.disabled = true;
          handleGuess(char);
        };
        lettersDiv.appendChild(btn);
      }

      if (currentIndex < songs.length - 1) {
        const nextBtn = document.createElement("button");
        nextBtn.textContent = "‚û°Ô∏è Siguiente canci√≥n";
        nextBtn.classList.add("play-btn");
        nextBtn.style.marginTop = "20px";
        nextBtn.onclick = nextSong;
        lettersDiv.appendChild(document.createElement("br"));
        lettersDiv.appendChild(nextBtn);
      }
    }

    updateDisplay();
    createButtons();
  </script>
</body>
</html>

